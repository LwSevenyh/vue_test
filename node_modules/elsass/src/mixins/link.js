export default {
  methods: {
    linkUrl (to, append) {
      const type = typeof to
      if (type !== 'string') {
        return null;
      }
      if (to.includes('//')) {
        /* Absolute URL, we do not need to route this */
        return to
      }
      const router = this.$router
      if (router) {
        const current = this.$route
        const route = router.resolve(to, current, append)
        return route ? route.href : to
      }
      return this.to
    },
    handleClick (item, new_window = false) {
      const router = this.$router;

      if (new_window) {
        let to = item.to;
        if (router) {
          const current = this.$route;
          const route = router.resolve(item.to, current, item.append);
          to = route ? route.href : item.to;
        }
        window.open(to);
      } else {
        if (router) {
          item.replace ? this.$router.replace(item.to) : this.$router.push(item.to);
        } else {
          window.location.href = item.to;
        }
      }
    },
    handleCheckClick (event, item, new_window = false) {
      if (item.to) {
        if (item.target === '_blank') {
          return false;
        } else {
          event.preventDefault();
          this.handleClick(item, new_window);
        }
      }
    }
  }
}