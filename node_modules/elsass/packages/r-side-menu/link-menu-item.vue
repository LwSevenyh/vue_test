<template>
  <menu-item :name="name" v-if="path">
    <router-link :to="path" v-if="type === 'route'">
      <span v-if="!hasDefaultSlot">{{ title }}</span>
      <slot v-else></slot>
    </router-link>
    <a :href="path" v-if="type === 'link'">
      <span v-if="!hasDefaultSlot">{{ title }}</span>
      <slot v-else></slot>
    </a>
  </menu-item>
  <menu-item :name="name" v-else>
    <span v-if="!hasDefaultSlot">{{ title }}</span>
    <slot v-else></slot>
  </menu-item>
</template>

<script>
import mixin from './mixin'

export default {
  name: 'LinkMenuItem',
  mixins: [ mixin ],
  props: {
    name: {
      type: String,
      required: true
    },
    title: String,
    path: {
      type: [String, Object],
      required: false
    },
    type: {
      type: String,
      default: 'route'
    }
  },
  computed: {
    hasDefaultSlot () {
      return !!this.$slots.default
    }
  }
}
</script>