<template>
  <div class="ib">
    <Breadcrumb separator=">" :class="className">
      <template v-for="item in items">
        <BreadcrumbItem :to="item.to" :replace="item.replace" :target="item.target" :append="item.append" :key="`bread-crumb-item-${item.name}`">
          <template v-if="item.showIcon">
            <img v-if="item.icon" :src="item.icon">
            <RIcon v-else icon-class="icon-company"></RIcon>
          </template>
          <template v-else>
            <img v-if="item.icon" :src="item.icon">
            <span @click="click_item(item)">{{item.title}}</span>
          </template>
        </BreadcrumbItem>
      </template>
    </Breadcrumb>

    <div class="ib r-bread-item-asterisk" @click="click_asterisk" v-if="showAsterisk">
      <RIcon icon-class="icon-asterisk" class="asterisk-icon"></RIcon>
    </div>
  </div>
</template>
<script>
import RIcon from '../r-icon/r-icon'
export default {
  name: 'RBreadcrumb',
  props: {
    items: {
      type: Array,
      default () {
        return []
      }
    },
    className: {
      type: String,
      default: ''
    },
    showAsterisk: {
      type: Boolean,
      default: false
    }
  },
  components: {
    RIcon
  },
  methods: {
    click_item (item) {
      this.$emit('click-item', {item: item})
    },
    click_asterisk () {
      this.$emit('click_asterisk', {items: this.items})
    }
  }
}
</script>